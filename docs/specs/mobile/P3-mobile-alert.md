# P3 ç§»åŠ¨ç«¯å‘Šè­¦è§„æ ¼ä¹¦

## æ–‡æ¡£ä¿¡æ¯
- **æ¨¡å—ID**: P3
- **æ¨¡å—åç§°**: ç§»åŠ¨ç«¯å‘Šè­¦ (Mobile Alerts)
- **ç‰ˆæœ¬**: 1.0
- **æ—¥æœŸ**: 2026å¹´1æœˆ
- **çŠ¶æ€**: è§„åˆ’ä¸­
- **å‰ç½®ä¾èµ–**: G4æœºå™¨äººAPI, P1ç§»åŠ¨ç«¯ç›‘æ§, O4å‘Šè­¦ç®¡ç†

---

## 1. æ¨¡å—æ¦‚è¿°

### 1.1 èŒè´£æè¿°

ç§»åŠ¨ç«¯å‘Šè­¦æ˜¯LinkCå¹³å°ç§»åŠ¨ç«¯çš„å‘Šè­¦ç®¡ç†æ¨¡å—ï¼Œä¸ºè¿è¥äººå‘˜æä¾›åŠæ—¶çš„å¼‚å¸¸æ„ŸçŸ¥å’Œå¿«é€Ÿå“åº”èƒ½åŠ›ï¼š
- æ¥æ”¶å’Œå±•ç¤ºå„ç±»å‘Šè­¦
- å¿«é€Ÿå®šä½å’Œå“åº”å‘Šè­¦
- å¤„ç†å’Œå…³é—­å‘Šè­¦
- æŸ¥çœ‹å‘Šè­¦å†å²
- ç®¡ç†å‘Šè­¦é€šçŸ¥è®¾ç½®

### 1.2 æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ |
|-----|------|-------|
| å‘Šè­¦åˆ—è¡¨ | æŸ¥çœ‹æ‰€æœ‰å¾…å¤„ç†å‘Šè­¦ | P0 |
| å‘Šè­¦è¯¦æƒ… | æŸ¥çœ‹å‘Šè­¦è¯¦ç»†ä¿¡æ¯ | P0 |
| å‘Šè­¦å¤„ç† | ç¡®è®¤ã€å¤„ç†ã€å…³é—­å‘Šè­¦ | P0 |
| æ¨é€é€šçŸ¥ | æ¥æ”¶å‘Šè­¦æ¨é€ | P0 |
| å¿«é€Ÿæ“ä½œ | ä¸€é”®å¯¼èˆªåˆ°ç›¸å…³æœºå™¨äºº/ä»»åŠ¡ | P0 |
| å‘Šè­¦ç»Ÿè®¡ | æŸ¥çœ‹å‘Šè­¦è¶‹åŠ¿å’Œåˆ†å¸ƒ | P1 |
| å‘Šè­¦è®¾ç½® | ç®¡ç†å‘Šè­¦é€šçŸ¥åå¥½ | P1 |
| å†å²æŸ¥è¯¢ | æŸ¥çœ‹å†å²å‘Šè­¦è®°å½• | P2 |

### 1.3 ç›®æ ‡ç”¨æˆ·

| è§’è‰² | ä½¿ç”¨åœºæ™¯ | å…³æ³¨é‡ç‚¹ |
|-----|---------|---------|
| ç°åœºè¿ç»´ | å®æ—¶å“åº”å‘Šè­¦ | ä½ç½®ã€å¤„ç†æ–¹å¼ã€å¿«é€Ÿæ“ä½œ |
| è¿è¥ç»ç† | ç›‘æ§å‘Šè­¦æ€åŠ¿ | ç»Ÿè®¡ã€è¶‹åŠ¿ã€ä¸¥é‡å‘Šè­¦ |
| å€¼ç­äººå‘˜ | å¤œé—´å‘Šè­¦å€¼å®ˆ | ç´§æ€¥å‘Šè­¦ã€å¤„ç†æµç¨‹ |
| é«˜ç®¡ | äº†è§£å¼‚å¸¸æƒ…å†µ | ä¸¥é‡ç¨‹åº¦ã€å½±å“èŒƒå›´ |

### 1.4 è®¾è®¡åŸåˆ™

```
ç§»åŠ¨ç«¯å‘Šè­¦è®¾è®¡åŸåˆ™ï¼š
â”œâ”€â”€ åŠæ—¶é€šçŸ¥ï¼šå…³é”®å‘Šè­¦ç¬¬ä¸€æ—¶é—´æ¨é€
â”œâ”€â”€ ä¿¡æ¯æ¸…æ™°ï¼šä¸€çœ¼è¯†åˆ«å‘Šè­¦çº§åˆ«å’Œç±»å‹
â”œâ”€â”€ å¿«é€Ÿå“åº”ï¼šå‡å°‘ä»å‘ç°åˆ°å¤„ç†çš„æ­¥éª¤
â”œâ”€â”€ å¯è¿½æº¯ï¼šå®Œæ•´è®°å½•å¤„ç†è¿‡ç¨‹
â””â”€â”€ æ™ºèƒ½é™å™ªï¼šé¿å…å‘Šè­¦ç–²åŠ³
```

---

## 2. å‘Šè­¦æ•°æ®æ¨¡å‹

### 2.1 å‘Šè­¦æ•°æ®ç»“æ„

```typescript
// å‘Šè­¦æ‘˜è¦ï¼ˆåˆ—è¡¨ç”¨ï¼‰
interface AlertSummary {
  id: string;
  code: string;               // å‘Šè­¦ä»£ç  å¦‚ ROBOT_STUCK
  level: AlertLevel;
  type: AlertType;
  status: AlertStatus;
  
  // åŸºæœ¬ä¿¡æ¯
  title: string;
  message: string;
  
  // å…³è”å¯¹è±¡
  source: AlertSource;
  
  // æ—¶é—´ä¿¡æ¯
  createdAt: string;
  acknowledgedAt?: string;
  resolvedAt?: string;
  
  // å¤„ç†ä¿¡æ¯
  assignee?: string;
  isOverdue: boolean;         // æ˜¯å¦è¶…æ—¶æœªå¤„ç†
}

// å‘Šè­¦è¯¦æƒ…
interface AlertDetail extends AlertSummary {
  // è¯¦ç»†æè¿°
  description: string;
  
  // å»ºè®®æ“ä½œ
  suggestedActions: SuggestedAction[];
  
  // å…³è”æ•°æ®
  relatedData: AlertRelatedData;
  
  // å¤„ç†å†å²
  history: AlertHistoryEvent[];
  
  // ç›¸ä¼¼å‘Šè­¦
  similarAlerts?: AlertSummary[];
  
  // å…ƒæ•°æ®
  metadata: Record<string, any>;
}

// å‘Šè­¦æ¥æº
interface AlertSource {
  type: 'robot' | 'task' | 'agent' | 'system';
  id: string;
  name: string;
  location?: {
    building: string;
    buildingName: string;
    floor?: string;
    floorName?: string;
    zone?: string;
  };
}

// å»ºè®®æ“ä½œ
interface SuggestedAction {
  id: string;
  type: ActionType;
  label: string;
  description: string;
  isPrimary: boolean;
}

type ActionType = 
  | 'view_robot'        // æŸ¥çœ‹æœºå™¨äºº
  | 'view_task'         // æŸ¥çœ‹ä»»åŠ¡
  | 'remote_control'    // è¿œç¨‹æ§åˆ¶
  | 'dispatch_staff'    // æ´¾é£äººå‘˜
  | 'restart_task'      // é‡å¯ä»»åŠ¡
  | 'contact_support'   // è”ç³»æ”¯æŒ
  | 'custom';           // è‡ªå®šä¹‰

// å‘Šè­¦å…³è”æ•°æ®
interface AlertRelatedData {
  // æœºå™¨äººç›¸å…³
  robot?: {
    id: string;
    name: string;
    status: RobotStatus;
    battery: number;
    lastPosition: Position;
  };
  
  // ä»»åŠ¡ç›¸å…³
  task?: {
    id: string;
    name: string;
    status: TaskStatus;
    progress: number;
  };
  
  // è¯Šæ–­æ•°æ®
  diagnostics?: {
    errorCode?: string;
    sensorData?: Record<string, any>;
    logs?: string[];
  };
}

// å‘Šè­¦å†å²äº‹ä»¶
interface AlertHistoryEvent {
  id: string;
  type: HistoryEventType;
  timestamp: string;
  actor: string;           // æ“ä½œäººæˆ–ç³»ç»Ÿ
  actorType: 'user' | 'system' | 'agent';
  description: string;
  data?: Record<string, any>;
}

type HistoryEventType = 
  | 'created'
  | 'acknowledged'
  | 'assigned'
  | 'escalated'
  | 'commented'
  | 'resolved'
  | 'closed'
  | 'reopened';
```

### 2.2 å‘Šè­¦çº§åˆ«å’Œç±»å‹

```typescript
// å‘Šè­¦çº§åˆ«
type AlertLevel = 'critical' | 'high' | 'medium' | 'low';

// å‘Šè­¦ç±»å‹
type AlertType = 
  | 'robot_error'        // æœºå™¨äººæ•…éšœ
  | 'robot_stuck'        // æœºå™¨äººå¡ä½
  | 'robot_offline'      // æœºå™¨äººç¦»çº¿
  | 'battery_low'        // ç”µé‡è¿‡ä½
  | 'consumable_low'     // è€—æä¸è¶³
  | 'task_failed'        // ä»»åŠ¡å¤±è´¥
  | 'task_timeout'       // ä»»åŠ¡è¶…æ—¶
  | 'agent_escalation'   // Agentå‡çº§
  | 'coverage_low'       // è¦†ç›–ç‡ä½
  | 'system_error';      // ç³»ç»Ÿé”™è¯¯

// å‘Šè­¦çŠ¶æ€
type AlertStatus = 
  | 'pending'            // å¾…å¤„ç†
  | 'acknowledged'       // å·²ç¡®è®¤
  | 'in_progress'        // å¤„ç†ä¸­
  | 'resolved'           // å·²è§£å†³
  | 'closed';            // å·²å…³é—­

// å‘Šè­¦çº§åˆ«é…ç½®
const alertLevelConfig: Record<AlertLevel, {
  label: string;
  color: string;
  backgroundColor: string;
  icon: string;
  responseTime: number;    // å“åº”æ—¶é™ï¼ˆåˆ†é’Ÿï¼‰
}> = {
  critical: {
    label: 'ç´§æ€¥',
    color: '#ff4d4f',
    backgroundColor: '#fff1f0',
    icon: 'alert-circle',
    responseTime: 5
  },
  high: {
    label: 'ä¸¥é‡',
    color: '#fa8c16',
    backgroundColor: '#fff7e6',
    icon: 'alert-triangle',
    responseTime: 15
  },
  medium: {
    label: 'è­¦å‘Š',
    color: '#faad14',
    backgroundColor: '#fffbe6',
    icon: 'alert',
    responseTime: 60
  },
  low: {
    label: 'æç¤º',
    color: '#1890ff',
    backgroundColor: '#e6f7ff',
    icon: 'information-circle',
    responseTime: 240
  }
};

// å‘Šè­¦ç±»å‹é…ç½®
const alertTypeConfig: Record<AlertType, {
  label: string;
  icon: string;
  defaultLevel: AlertLevel;
}> = {
  robot_error: { label: 'æœºå™¨äººæ•…éšœ', icon: 'robot', defaultLevel: 'high' },
  robot_stuck: { label: 'æœºå™¨äººå¡ä½', icon: 'pause-circle', defaultLevel: 'high' },
  robot_offline: { label: 'æœºå™¨äººç¦»çº¿', icon: 'wifi-off', defaultLevel: 'medium' },
  battery_low: { label: 'ç”µé‡è¿‡ä½', icon: 'battery-low', defaultLevel: 'medium' },
  consumable_low: { label: 'è€—æä¸è¶³', icon: 'warning', defaultLevel: 'low' },
  task_failed: { label: 'ä»»åŠ¡å¤±è´¥', icon: 'close-circle', defaultLevel: 'high' },
  task_timeout: { label: 'ä»»åŠ¡è¶…æ—¶', icon: 'clock', defaultLevel: 'medium' },
  agent_escalation: { label: 'Agentå‡çº§', icon: 'arrow-up', defaultLevel: 'medium' },
  coverage_low: { label: 'è¦†ç›–ç‡ä½', icon: 'pie-chart', defaultLevel: 'low' },
  system_error: { label: 'ç³»ç»Ÿé”™è¯¯', icon: 'server', defaultLevel: 'critical' }
};
```

---

## 3. é¡µé¢ç»“æ„

### 3.1 å‘Šè­¦æ¨¡å—ç»“æ„

```
ç§»åŠ¨ç«¯å‘Šè­¦æ¨¡å—ç»“æ„ï¼š
â”œâ”€â”€ å‘Šè­¦é¦–é¡µï¼ˆAlerts Homeï¼‰
â”‚   â”œâ”€â”€ å‘Šè­¦æ¦‚è§ˆ
â”‚   â”œâ”€â”€ ç´§æ€¥å‘Šè­¦
â”‚   â””â”€â”€ å¿«æ·å…¥å£
â”œâ”€â”€ å‘Šè­¦åˆ—è¡¨ï¼ˆAlert Listï¼‰
â”‚   â”œâ”€â”€ åˆ†çº§Tab
â”‚   â”œâ”€â”€ å‘Šè­¦å¡ç‰‡åˆ—è¡¨
â”‚   â””â”€â”€ ç­›é€‰æ’åº
â”œâ”€â”€ å‘Šè­¦è¯¦æƒ…ï¼ˆAlert Detailï¼‰
â”‚   â”œâ”€â”€ åŸºæœ¬ä¿¡æ¯
â”‚   â”œâ”€â”€ å…³è”å¯¹è±¡
â”‚   â”œâ”€â”€ å»ºè®®æ“ä½œ
â”‚   â””â”€â”€ å¤„ç†å†å²
â”œâ”€â”€ å¤„ç†å‘Šè­¦ï¼ˆHandle Alertï¼‰
â”‚   â”œâ”€â”€ å¤„ç†è¡¨å•
â”‚   â””â”€â”€ ç¡®è®¤æäº¤
â”œâ”€â”€ å‘Šè­¦ç»Ÿè®¡ï¼ˆAlert Statisticsï¼‰
â”‚   â”œâ”€â”€ æ€»è§ˆç»Ÿè®¡
â”‚   â””â”€â”€ è¶‹åŠ¿å›¾è¡¨
â””â”€â”€ å‘Šè­¦è®¾ç½®ï¼ˆAlert Settingsï¼‰
    â”œâ”€â”€ é€šçŸ¥åå¥½
    â””â”€â”€ å…æ‰“æ‰°
```

### 3.2 å¯¼èˆªè®¾è®¡

```typescript
// å‘Šè­¦æ¨¡å—å¯ä»é€šçŸ¥ä¸­å¿ƒè¿›å…¥ï¼Œä¹Ÿå¯ä½œä¸ºç‹¬ç«‹å…¥å£

// å‘Šè­¦åˆ—è¡¨Tabé…ç½®
interface AlertTabConfig {
  tabs: AlertTab[];
}

interface AlertTab {
  key: AlertTabKey;
  title: string;
  badge?: number;
  filter: AlertListFilter;
}

type AlertTabKey = 'all' | 'critical' | 'high' | 'handling' | 'resolved';

const alertTabs: AlertTab[] = [
  { key: 'all', title: 'å…¨éƒ¨', badge: 15, filter: {} },
  { key: 'critical', title: 'ç´§æ€¥', badge: 2, filter: { level: ['critical'] } },
  { key: 'high', title: 'ä¸¥é‡', badge: 5, filter: { level: ['high'] } },
  { key: 'handling', title: 'å¤„ç†ä¸­', filter: { status: ['acknowledged', 'in_progress'] } },
  { key: 'resolved', title: 'å·²å¤„ç†', filter: { status: ['resolved', 'closed'] } }
];
```

---

## 4. å‘Šè­¦é¦–é¡µ

### 4.1 å‘Šè­¦æ¦‚è§ˆ

```typescript
// å‘Šè­¦æ¦‚è§ˆæ•°æ®
interface AlertOverview {
  // ç»Ÿè®¡æ•°æ®
  stats: {
    total: number;           // æ€»å¾…å¤„ç†
    critical: number;        // ç´§æ€¥
    high: number;            // ä¸¥é‡
    medium: number;          // è­¦å‘Š
    low: number;             // æç¤º
  };
  
  // å“åº”æƒ…å†µ
  response: {
    avgResponseTime: number; // å¹³å‡å“åº”æ—¶é—´ åˆ†é’Ÿ
    overdueCount: number;    // è¶…æ—¶æœªå¤„ç†æ•°é‡
    todayResolved: number;   // ä»Šæ—¥å·²è§£å†³
  };
  
  // ç´§æ€¥å‘Šè­¦åˆ—è¡¨
  criticalAlerts: AlertSummary[];
  
  // æœ€è¿‘å‘Šè­¦
  recentAlerts: AlertSummary[];
  
  // æ›´æ–°æ—¶é—´
  lastUpdated: string;
}

// å‘Šè­¦æ¦‚è§ˆç»„ä»¶
interface AlertOverviewProps {
  data: AlertOverview;
  onViewAll: () => void;
  onAlertPress: (alertId: string) => void;
}

// å‘Šè­¦æ¦‚è§ˆå¸ƒå±€
/*
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‘Šè­¦æ¦‚è§ˆ                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å¾…å¤„ç†å‘Šè­¦                       â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”â”‚  â”‚
â”‚  â”‚ â”‚ 2   â”‚ â”‚ 5   â”‚ â”‚ 6   â”‚ â”‚ 2   â”‚â”‚  â”‚
â”‚  â”‚ â”‚ç´§æ€¥ â”‚ â”‚ä¸¥é‡ â”‚ â”‚è­¦å‘Š â”‚ â”‚æç¤º â”‚â”‚  â”‚
â”‚  â”‚ â”‚ğŸ”´   â”‚ â”‚ğŸŸ    â”‚ â”‚ğŸŸ¡   â”‚ â”‚ğŸ”µ   â”‚â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â”‚  ä»Šæ—¥æƒ…å†µ                             â”‚
â”‚  å“åº”: 12åˆ†é’Ÿ â”‚ å·²å¤„ç†: 8 â”‚ è¶…æ—¶: 1  â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/
```

### 4.2 ç´§æ€¥å‘Šè­¦å¡ç‰‡

```typescript
// ç´§æ€¥å‘Šè­¦ç»„ä»¶
interface CriticalAlertsCardProps {
  alerts: AlertSummary[];
  onAlertPress: (alertId: string) => void;
  onQuickHandle: (alertId: string) => void;
}

// ç´§æ€¥å‘Šè­¦å¸ƒå±€
/*
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”´ ç´§æ€¥å‘Šè­¦ (2)              æŸ¥çœ‹å…¨éƒ¨>â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âš ï¸ R-005 æœºå™¨äººå¡ä½             â”‚  â”‚
â”‚  â”‚ Aæ ‹3Fèµ°å»Š â”‚ 5åˆ†é’Ÿå‰             â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚ â”‚  æŸ¥çœ‹è¯¦æƒ…   â”‚ â”‚  å¿«é€Ÿå¤„ç†  â”‚  â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âš ï¸ ç³»ç»Ÿé€šä¿¡å¼‚å¸¸                 â”‚  â”‚
â”‚  â”‚ å½±å“3å°æœºå™¨äºº â”‚ 8åˆ†é’Ÿå‰         â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚ â”‚  æŸ¥çœ‹è¯¦æƒ…   â”‚ â”‚  å¿«é€Ÿå¤„ç†  â”‚  â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/
```

---

## 5. å‘Šè­¦åˆ—è¡¨é¡µ

### 5.1 å‘Šè­¦åˆ—è¡¨ç»„ä»¶

```typescript
// å‘Šè­¦åˆ—è¡¨Props
interface AlertListScreenProps {
  initialTab?: AlertTabKey;
  initialFilter?: AlertListFilter;
}

// å‘Šè­¦åˆ—è¡¨çŠ¶æ€
interface AlertListState {
  currentTab: AlertTabKey;
  alerts: AlertSummary[];
  loading: boolean;
  refreshing: boolean;
  filter: AlertListFilter;
  sort: AlertSort;
  pagination: {
    page: number;
    hasMore: boolean;
  };
}

interface AlertListFilter {
  level?: AlertLevel[];
  type?: AlertType[];
  status?: AlertStatus[];
  source?: AlertSource['type'][];
  building?: string;
  dateRange?: {
    start: string;
    end: string;
  };
  search?: string;
  isOverdue?: boolean;
}

interface AlertSort {
  field: 'createdAt' | 'level' | 'status';
  order: 'asc' | 'desc';
}
```

### 5.2 å‘Šè­¦å¡ç‰‡ç»„ä»¶

```typescript
// å‘Šè­¦å¡ç‰‡Props
interface AlertCardProps {
  alert: AlertSummary;
  onPress: () => void;
  onQuickAcknowledge?: () => void;
}

// å‘Šè­¦å¡ç‰‡å¸ƒå±€
/*
ç´§æ€¥å‘Šè­¦:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ ç´§æ€¥  R-005 æœºå™¨äººå¡ä½      5åˆ†é’Ÿå‰â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ æœºå™¨äººåœ¨Aæ ‹3Fèµ°å»Šæ£€æµ‹åˆ°ç§»åŠ¨å—é˜»ï¼Œ     â”‚
â”‚ éœ€è¦äººå·¥å¹²é¢„                          â”‚
â”‚                                       â”‚
â”‚ ğŸ“ Aæ ‹ 3F èµ°å»Š                        â”‚
â”‚ â±ï¸ å“åº”æ—¶é™: 5åˆ†é’Ÿ âš ï¸ å³å°†è¶…æ—¶        â”‚
â”‚                                    >  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¸¥é‡å‘Šè­¦:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ  ä¸¥é‡  ä»»åŠ¡æ‰§è¡Œå¤±è´¥          15åˆ†é’Ÿå‰â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ Aæ ‹æ—¥å¸¸æ¸…æ´ä»»åŠ¡å› æœºå™¨äººæ•…éšœè€Œå¤±è´¥      â”‚
â”‚                                       â”‚
â”‚ ğŸ“ Aæ ‹ Â· ä»»åŠ¡: æ—¥å¸¸æ¸…æ´-ä¸Šåˆ          â”‚
â”‚ ğŸ‘¤ å·²åˆ†é…: å¼ ä¸‰                       â”‚
â”‚                                    >  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å·²å¤„ç†å‘Šè­¦:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… å·²è§£å†³  ç”µé‡è¿‡ä½è­¦å‘Š        1å°æ—¶å‰ â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ R-012ç”µé‡ä½äº20%ï¼Œå·²è¿”å›å……ç”µ          â”‚
â”‚                                       â”‚
â”‚ å¤„ç†äºº: ç³»ç»Ÿè‡ªåŠ¨ â”‚ è€—æ—¶: 2åˆ†é’Ÿ        â”‚
â”‚                                    >  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/
```

### 5.3 ç­›é€‰å™¨ç»„ä»¶

```typescript
// ç­›é€‰å™¨Props
interface AlertFilterSheetProps {
  visible: boolean;
  filter: AlertListFilter;
  buildings: Building[];
  onApply: (filter: AlertListFilter) => void;
  onClose: () => void;
  onReset: () => void;
}

// ç­›é€‰å™¨å¸ƒå±€
/*
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç­›é€‰å‘Šè­¦                      é‡ç½®   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  å‘Šè­¦çº§åˆ«                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ç´§æ€¥â”‚ â”‚ ä¸¥é‡â”‚ â”‚ è­¦å‘Šâ”‚ â”‚ æç¤ºâ”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                       â”‚
â”‚  å‘Šè­¦ç±»å‹                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚æœºå™¨äºº â”‚ â”‚ ä»»åŠ¡  â”‚ â”‚ Agent â”‚      â”‚
â”‚  â”‚æ•…éšœ   â”‚ â”‚ å¼‚å¸¸  â”‚ â”‚ å‡çº§  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                       â”‚
â”‚  çŠ¶æ€                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚å¾…å¤„ç†â”‚ â”‚å¤„ç†ä¸­â”‚ â”‚å·²å¤„ç†â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                       â”‚
â”‚  â˜ åªæ˜¾ç¤ºè¶…æ—¶å‘Šè­¦                     â”‚
â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚           åº”ç”¨ç­›é€‰              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/
```

---

## 6. å‘Šè­¦è¯¦æƒ…é¡µ

### 6.1 è¯¦æƒ…é¡µç»“æ„

```typescript
// å‘Šè­¦è¯¦æƒ…é¡µProps
interface AlertDetailScreenProps {
  alertId: string;
}

// è¯¦æƒ…é¡µSectioné…ç½®
const detailSections = [
  { key: 'basic', title: 'åŸºæœ¬ä¿¡æ¯' },
  { key: 'source', title: 'å…³è”å¯¹è±¡' },
  { key: 'actions', title: 'å»ºè®®æ“ä½œ' },
  { key: 'history', title: 'å¤„ç†å†å²' }
];
```

### 6.2 åŸºæœ¬ä¿¡æ¯å¡ç‰‡

```typescript
// åŸºæœ¬ä¿¡æ¯ç»„ä»¶
interface AlertBasicInfoCardProps {
  alert: AlertDetail;
}

// åŸºæœ¬ä¿¡æ¯å¸ƒå±€
/*
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‘Šè­¦ä¿¡æ¯                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                       â”‚
â”‚  ğŸ”´ ç´§æ€¥                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  R-005 æœºå™¨äººå¡ä½               â”‚  â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚  â”‚
â”‚  â”‚  ä»£ç : ROBOT_STUCK              â”‚  â”‚
â”‚  â”‚  ç±»å‹: æœºå™¨äººæ•…éšœ               â”‚  â”‚
â”‚  â”‚  çŠ¶æ€: å¾…å¤„ç†                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â”‚  è¯¦ç»†æè¿°                             â”‚
â”‚  æœºå™¨äººåœ¨æ‰§è¡Œæ¸…æ´ä»»åŠ¡æ—¶æ£€æµ‹åˆ°ç§»åŠ¨å—   â”‚
â”‚  é˜»ï¼Œè¿ç»­3æ¬¡å°è¯•åæ— æ³•è„±å›°ã€‚å¯èƒ½åŸ    â”‚
â”‚  å› ï¼šéšœç¢ç‰©é˜»æŒ¡ã€è½®å­å¡ä½ã€ä¼ æ„Ÿå™¨     â”‚
â”‚  æ•…éšœã€‚                               â”‚
â”‚                                       â”‚
â”‚  æ—¶é—´ä¿¡æ¯                             â”‚
â”‚  å‘ç”Ÿ: 2026-01-20 10:30:15           â”‚
â”‚  å“åº”æ—¶é™: 5åˆ†é’Ÿ                      â”‚
â”‚  å‰©ä½™: 2åˆ†30ç§’ âš ï¸                     â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/
```

### 6.3 å…³è”å¯¹è±¡å¡ç‰‡

```typescript
// å…³è”å¯¹è±¡ç»„ä»¶
interface AlertSourceCardProps {
  source: AlertSource;
  relatedData: AlertRelatedData;
  onNavigate: (type: string, id: string) => void;
}

// å…³è”å¯¹è±¡å¸ƒå±€
/*
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å…³è”å¯¹è±¡                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                       â”‚
â”‚  æœºå™¨äºº                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ¤– R-005                        â”‚  â”‚
â”‚  â”‚ é«˜ä»™ Vacuum Pro                 â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚  â”‚
â”‚  â”‚ çŠ¶æ€: ğŸŸ  æ•…éšœ                   â”‚  â”‚
â”‚  â”‚ ç”µé‡: 65%                       â”‚  â”‚
â”‚  â”‚ ä½ç½®: Aæ ‹ 3F èµ°å»Š               â”‚  â”‚
â”‚  â”‚                                 â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚ â”‚      æŸ¥çœ‹æœºå™¨äººè¯¦æƒ…       â”‚  â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â”‚  å…³è”ä»»åŠ¡                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“‹ Aæ ‹æ—¥å¸¸æ¸…æ´-ä¸Šåˆ             â”‚  â”‚
â”‚  â”‚ çŠ¶æ€: å·²æš‚åœ â”‚ è¿›åº¦: 45%        â”‚  â”‚
â”‚  â”‚                                 â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚ â”‚      æŸ¥çœ‹ä»»åŠ¡è¯¦æƒ…         â”‚  â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/
```

### 6.4 å»ºè®®æ“ä½œå¡ç‰‡

```typescript
// å»ºè®®æ“ä½œç»„ä»¶
interface SuggestedActionsCardProps {
  actions: SuggestedAction[];
  onActionPress: (action: SuggestedAction) => void;
}

// å»ºè®®æ“ä½œå¸ƒå±€
/*
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å»ºè®®æ“ä½œ                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ”§ å‰å¾€ç°åœºå¤„ç†  (æ¨è)        â”‚  â”‚
â”‚  â”‚  æ´¾é£äººå‘˜å‰å¾€Aæ ‹3Fæ£€æŸ¥æœºå™¨äºº    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ® è¿œç¨‹æ§åˆ¶æœºå™¨äºº              â”‚  â”‚
â”‚  â”‚  å°è¯•è¿œç¨‹é‡å¯æˆ–è¿”å›å……ç”µ         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ“ è”ç³»æŠ€æœ¯æ”¯æŒ                â”‚  â”‚
â”‚  â”‚  å¦‚é—®é¢˜æ— æ³•è§£å†³ï¼Œè”ç³»å‚å•†æ”¯æŒ   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/
```

### 6.5 å¤„ç†å†å²å¡ç‰‡

```typescript
// å¤„ç†å†å²ç»„ä»¶
interface AlertHistoryCardProps {
  history: AlertHistoryEvent[];
  onEventPress?: (event: AlertHistoryEvent) => void;
}

// å¤„ç†å†å²å¸ƒå±€
/*
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤„ç†å†å²                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                       â”‚
â”‚  â— 10:35  å¼ ä¸‰ ç¡®è®¤å‘Šè­¦              â”‚
â”‚  â”‚        å¼€å§‹å¤„ç†ä¸­...              â”‚
â”‚  â”‚                                    â”‚
â”‚  â— 10:32  ç³»ç»Ÿ åˆ†é…ç»™å¼ ä¸‰            â”‚
â”‚  â”‚        åŸºäºå€¼ç­è¡¨è‡ªåŠ¨åˆ†é…         â”‚
â”‚  â”‚                                    â”‚
â”‚  â— 10:30  ç³»ç»Ÿ åˆ›å»ºå‘Šè­¦              â”‚
â”‚           æœºå™¨äººR-005æ£€æµ‹åˆ°å¡ä½       â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/
```

---

## 7. å‘Šè­¦å¤„ç†é¡µ

### 7.1 å¤„ç†æµç¨‹

```typescript
// å‘Šè­¦å¤„ç†é¡µProps
interface HandleAlertScreenProps {
  alertId: string;
  action?: 'acknowledge' | 'resolve' | 'close';
}

// å¤„ç†è¡¨å•
interface HandleAlertForm {
  action: HandleAction;
  resolution?: ResolutionType;
  comment: string;
  attachments?: string[];     // å›¾ç‰‡é™„ä»¶
}

type HandleAction = 
  | 'acknowledge'    // ç¡®è®¤
  | 'resolve'        // è§£å†³
  | 'close'          // å…³é—­
  | 'escalate'       // å‡çº§
  | 'transfer';      // è½¬äº¤

type ResolutionType = 
  | 'fixed'              // å·²ä¿®å¤
  | 'false_alarm'        // è¯¯æŠ¥
  | 'known_issue'        // å·²çŸ¥é—®é¢˜
  | 'workaround'         // ä¸´æ—¶æ–¹æ¡ˆ
  | 'transferred'        // å·²è½¬äº¤
  | 'auto_resolved';     // è‡ªåŠ¨æ¢å¤
```

### 7.2 å¤„ç†è¡¨å•ç»„ä»¶

```typescript
// å¤„ç†è¡¨å•ç»„ä»¶
interface HandleAlertFormProps {
  alert: AlertDetail;
  form: HandleAlertForm;
  onFormChange: (form: HandleAlertForm) => void;
  onSubmit: () => void;
  submitting: boolean;
}

// å¤„ç†è¡¨å•å¸ƒå±€
/*
ç¡®è®¤å‘Šè­¦:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ç¡®è®¤å‘Šè­¦                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                       â”‚
â”‚  R-005 æœºå™¨äººå¡ä½                     â”‚
â”‚  ğŸ”´ ç´§æ€¥ â”‚ 5åˆ†é’Ÿå‰                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                       â”‚
â”‚  ç¡®è®¤åå°†å¼€å§‹è®¡æ—¶å¤„ç†ã€‚               â”‚
â”‚                                       â”‚
â”‚  å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å·²æ”¶åˆ°å‘Šè­¦ï¼Œæ­£åœ¨å‰å¾€ç°åœº...     â”‚  â”‚
â”‚  â”‚                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          ç¡®è®¤å‘Šè­¦               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è§£å†³å‘Šè­¦:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† è§£å†³å‘Šè­¦                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                       â”‚
â”‚  R-005 æœºå™¨äººå¡ä½                     â”‚
â”‚  å¤„ç†ä¸­ â”‚ å·²å¤„ç† 10åˆ†é’Ÿ               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                       â”‚
â”‚  è§£å†³æ–¹å¼ *                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ âœ“å·²ä¿®å¤â”‚ â”‚  è¯¯æŠ¥   â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ä¸´æ—¶æ–¹æ¡ˆ â”‚ â”‚è‡ªåŠ¨æ¢å¤ â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                       â”‚
â”‚  å¤„ç†è¯´æ˜ *                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ æœºå™¨äººè¢«æ¤…å­æŒ¡ä½ï¼Œå·²ç§»å¼€éšœç¢ç‰©  â”‚  â”‚
â”‚  â”‚ å¹¶é‡å¯ä»»åŠ¡ã€‚                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â”‚  æ·»åŠ å›¾ç‰‡ï¼ˆå¯é€‰ï¼‰                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  +  â”‚ â”‚ ğŸ“·  â”‚ â”‚     â”‚            â”‚
â”‚  â”‚æ·»åŠ  â”‚ â”‚     â”‚ â”‚     â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          æäº¤è§£å†³               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/
```

### 7.3 å¿«é€Ÿç¡®è®¤ç»„ä»¶

```typescript
// å¿«é€Ÿç¡®è®¤ï¼ˆä»åˆ—è¡¨ç›´æ¥æ“ä½œï¼‰
interface QuickAcknowledgeSheetProps {
  visible: boolean;
  alert: AlertSummary;
  onConfirm: (comment?: string) => void;
  onClose: () => void;
  submitting: boolean;
}

// å¿«é€Ÿç¡®è®¤å¸ƒå±€
/*
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¿«é€Ÿç¡®è®¤                        âœ•   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                       â”‚
â”‚  ğŸ”´ R-005 æœºå™¨äººå¡ä½                  â”‚
â”‚  Aæ ‹ 3F èµ°å»Š                          â”‚
â”‚                                       â”‚
â”‚  ç¡®è®¤åæ‚¨å°†è´Ÿè´£å¤„ç†æ­¤å‘Šè­¦             â”‚
â”‚                                       â”‚
â”‚  å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          ç¡®è®¤å¹¶å¤„ç†             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/
```

---

## 8. å‘Šè­¦ç»Ÿè®¡é¡µ

### 8.1 ç»Ÿè®¡æ•°æ®ç»“æ„

```typescript
// å‘Šè­¦ç»Ÿè®¡æ•°æ®
interface AlertStatistics {
  // æ€»è§ˆ
  overview: {
    total: number;
    pending: number;
    resolved: number;
    avgResponseTime: number;
    avgResolutionTime: number;
  };
  
  // æŒ‰çº§åˆ«åˆ†å¸ƒ
  byLevel: {
    level: AlertLevel;
    count: number;
    percentage: number;
  }[];
  
  // æŒ‰ç±»å‹åˆ†å¸ƒ
  byType: {
    type: AlertType;
    count: number;
    percentage: number;
  }[];
  
  // è¶‹åŠ¿æ•°æ®
  trend: {
    date: string;
    created: number;
    resolved: number;
  }[];
  
  // æŒ‰æ¥¼å®‡åˆ†å¸ƒ
  byBuilding: {
    building: string;
    buildingName: string;
    count: number;
  }[];
  
  // å“åº”æ—¶é—´åˆ†å¸ƒ
  responseTime: {
    range: string;        // '<5min', '5-15min', '15-60min', '>60min'
    count: number;
    percentage: number;
  }[];
}
```

### 8.2 ç»Ÿè®¡é¡µé¢å¸ƒå±€

```typescript
// ç»Ÿè®¡é¡µé¢Props
interface AlertStatisticsScreenProps {
  dateRange?: {
    start: string;
    end: string;
  };
}

// ç»Ÿè®¡é¡µé¢å¸ƒå±€
/*
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† å‘Šè­¦ç»Ÿè®¡                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ æœ¬å‘¨ â–¼                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â”‚  æ€»è§ˆ                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ 45      â”‚ â”‚ 38      â”‚            â”‚
â”‚  â”‚ å‘Šè­¦æ€»æ•° â”‚ â”‚ å·²è§£å†³   â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ 12åˆ†é’Ÿ  â”‚ â”‚ 25åˆ†é’Ÿ  â”‚            â”‚
â”‚  â”‚å¹³å‡å“åº” â”‚ â”‚å¹³å‡è§£å†³ â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                       â”‚
â”‚  è¶‹åŠ¿                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     ğŸ“ˆ (æŠ˜çº¿å›¾)                 â”‚  â”‚
â”‚  â”‚  â”€â”€â”€ æ–°å¢  â”€â”€â”€ è§£å†³             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚
â”‚  çº§åˆ«åˆ†å¸ƒ                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  ç´§æ€¥ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 15%           â”‚
â”‚  ä¸¥é‡ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 35%           â”‚
â”‚  è­¦å‘Š â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 40%           â”‚
â”‚  æç¤º â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 10%           â”‚
â”‚                                       â”‚
â”‚  ç±»å‹TOP5                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  1. æœºå™¨äººå¡ä½      18 (40%)         â”‚
â”‚  2. ä»»åŠ¡å¤±è´¥        10 (22%)         â”‚
â”‚  3. ç”µé‡è¿‡ä½         8 (18%)         â”‚
â”‚  4. æœºå™¨äººç¦»çº¿       5 (11%)         â”‚
â”‚  5. Agentå‡çº§        4 (9%)          â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/
```

---

## 9. å‘Šè­¦è®¾ç½®é¡µ

### 9.1 é€šçŸ¥è®¾ç½®

```typescript
// å‘Šè­¦é€šçŸ¥è®¾ç½®
interface AlertNotificationSettings {
  // æ¨é€å¼€å…³
  pushEnabled: boolean;
  
  // çº§åˆ«è®¾ç½®
  levelSettings: Record<AlertLevel, {
    enabled: boolean;
    sound: boolean;
    vibration: boolean;
  }>;
  
  // ç±»å‹è®¾ç½®
  typeSettings: Record<AlertType, boolean>;
  
  // å…æ‰“æ‰°
  doNotDisturb: {
    enabled: boolean;
    startTime: string;     // HH:mm
    endTime: string;       // HH:mm
    allowCritical: boolean; // ç´§æ€¥å‘Šè­¦é™¤å¤–
  };
  
  // æ±‡æ€»é€šçŸ¥
  digest: {
    enabled: boolean;
    frequency: 'hourly' | 'daily';
    time?: string;          // æ¯æ—¥æ±‡æ€»æ—¶é—´
  };
  
  // é‚®ä»¶é€šçŸ¥
  emailNotification: {
    enabled: boolean;
    email: string;
    levelThreshold: AlertLevel;  // è¾¾åˆ°æ­¤çº§åˆ«å‘é€é‚®ä»¶
  };
}

// è®¾ç½®é¡µé¢å¸ƒå±€
/*
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† å‘Šè­¦è®¾ç½®                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                       â”‚
â”‚  æ¨é€é€šçŸ¥                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  æ¥æ”¶å‘Šè­¦æ¨é€             [å¼€å…³: ON] â”‚
â”‚                                       â”‚
â”‚  æŒ‰çº§åˆ«è®¾ç½®                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  ğŸ”´ ç´§æ€¥å‘Šè­¦               [å¼€å…³: ON] â”‚
â”‚     å£°éŸ³ [ON]  æŒ¯åŠ¨ [ON]              â”‚
â”‚  ğŸŸ  ä¸¥é‡å‘Šè­¦               [å¼€å…³: ON] â”‚
â”‚     å£°éŸ³ [ON]  æŒ¯åŠ¨ [ON]              â”‚
â”‚  ğŸŸ¡ è­¦å‘Š                   [å¼€å…³: ON] â”‚
â”‚     å£°éŸ³ [OFF] æŒ¯åŠ¨ [ON]              â”‚
â”‚  ğŸ”µ æç¤º                   [å¼€å…³: OFF]â”‚
â”‚                                       â”‚
â”‚  å…æ‰“æ‰°                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  å¼€å¯å…æ‰“æ‰°               [å¼€å…³: ON] â”‚
â”‚  æ—¶é—´: 22:00 - 08:00                 â”‚
â”‚  â˜‘ï¸ ç´§æ€¥å‘Šè­¦é™¤å¤–                      â”‚
â”‚                                       â”‚
â”‚  æ±‡æ€»é€šçŸ¥                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  å¯ç”¨æ±‡æ€»                 [å¼€å…³: ON] â”‚
â”‚  é¢‘ç‡: æ¯æ—¥ 09:00                     â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/
```

---

## 10. çŠ¶æ€ç®¡ç†

### 10.1 å‘Šè­¦Store

```typescript
// ä½¿ç”¨ Zustand ç®¡ç†çŠ¶æ€
import create from 'zustand';

interface MobileAlertStore {
  // å‘Šè­¦æ¦‚è§ˆ
  overview: AlertOverview | null;
  overviewLoading: boolean;
  fetchOverview: () => Promise<void>;
  
  // å‘Šè­¦åˆ—è¡¨
  alerts: AlertSummary[];
  alertsLoading: boolean;
  alertFilter: AlertListFilter;
  alertSort: AlertSort;
  setAlertFilter: (filter: AlertListFilter) => void;
  setAlertSort: (sort: AlertSort) => void;
  fetchAlerts: () => Promise<void>;
  loadMoreAlerts: () => Promise<void>;
  
  // å‘Šè­¦è¯¦æƒ…
  currentAlert: AlertDetail | null;
  currentAlertLoading: boolean;
  fetchAlertDetail: (alertId: string) => Promise<void>;
  
  // å‘Šè­¦æ“ä½œ
  acknowledgeAlert: (alertId: string, comment?: string) => Promise<void>;
  resolveAlert: (alertId: string, form: ResolveAlertForm) => Promise<void>;
  closeAlert: (alertId: string, comment?: string) => Promise<void>;
  
  // ç»Ÿè®¡æ•°æ®
  statistics: AlertStatistics | null;
  statisticsLoading: boolean;
  fetchStatistics: (dateRange?: DateRange) => Promise<void>;
  
  // é€šçŸ¥è®¾ç½®
  notificationSettings: AlertNotificationSettings | null;
  fetchNotificationSettings: () => Promise<void>;
  updateNotificationSettings: (settings: AlertNotificationSettings) => Promise<void>;
  
  // WebSocket
  subscribeToAlerts: () => void;
  unsubscribeFromAlerts: () => void;
}

interface ResolveAlertForm {
  resolution: ResolutionType;
  comment: string;
  attachments?: string[];
}

interface DateRange {
  start: string;
  end: string;
}

const useMobileAlertStore = create<MobileAlertStore>((set, get) => ({
  // åˆå§‹çŠ¶æ€
  overview: null,
  overviewLoading: false,
  alerts: [],
  alertsLoading: false,
  alertFilter: {},
  alertSort: { field: 'createdAt', order: 'desc' },
  currentAlert: null,
  currentAlertLoading: false,
  statistics: null,
  statisticsLoading: false,
  notificationSettings: null,
  
  // Actions
  fetchOverview: async () => {
    set({ overviewLoading: true });
    try {
      const data = await alertApi.getOverview();
      set({ overview: data, overviewLoading: false });
    } catch (error) {
      set({ overviewLoading: false });
      throw error;
    }
  },
  
  fetchAlerts: async () => {
    set({ alertsLoading: true });
    const { alertFilter, alertSort } = get();
    try {
      const data = await alertApi.getAlerts({ ...alertFilter, sort: alertSort });
      set({ alerts: data.items, alertsLoading: false });
    } catch (error) {
      set({ alertsLoading: false });
      throw error;
    }
  },
  
  acknowledgeAlert: async (alertId, comment) => {
    await alertApi.acknowledgeAlert(alertId, comment);
    // æ›´æ–°åˆ—è¡¨å’Œè¯¦æƒ…
    get().fetchAlerts();
    get().fetchOverview();
    if (get().currentAlert?.id === alertId) {
      get().fetchAlertDetail(alertId);
    }
  },
  
  resolveAlert: async (alertId, form) => {
    await alertApi.resolveAlert(alertId, form);
    get().fetchAlerts();
    get().fetchOverview();
    if (get().currentAlert?.id === alertId) {
      get().fetchAlertDetail(alertId);
    }
  },
  
  // ... å…¶ä»–actionå®ç°
}));
```

### 10.2 APIæœåŠ¡

```typescript
// å‘Šè­¦APIæœåŠ¡
interface AlertApi {
  // æ¦‚è§ˆ
  getOverview(): Promise<AlertOverview>;
  
  // å‘Šè­¦åˆ—è¡¨
  getAlerts(params: AlertQueryParams): Promise<PaginatedResponse<AlertSummary>>;
  getAlertDetail(alertId: string): Promise<AlertDetail>;
  
  // å‘Šè­¦æ“ä½œ
  acknowledgeAlert(alertId: string, comment?: string): Promise<void>;
  resolveAlert(alertId: string, form: ResolveAlertForm): Promise<void>;
  closeAlert(alertId: string, comment?: string): Promise<void>;
  escalateAlert(alertId: string, reason: string): Promise<void>;
  transferAlert(alertId: string, assignee: string): Promise<void>;
  
  // ç»Ÿè®¡
  getStatistics(dateRange?: DateRange): Promise<AlertStatistics>;
  
  // è®¾ç½®
  getNotificationSettings(): Promise<AlertNotificationSettings>;
  updateNotificationSettings(settings: AlertNotificationSettings): Promise<void>;
}

interface AlertQueryParams extends AlertListFilter {
  sort?: AlertSort;
  page?: number;
  pageSize?: number;
}

// APIå®ç°
const alertApi: AlertApi = {
  getOverview: () =>
    fetch('/api/v1/mobile/alerts/overview').then(r => r.json()),
  
  getAlerts: (params) =>
    fetch(`/api/v1/mobile/alerts?${new URLSearchParams(params as any)}`).then(r => r.json()),
  
  getAlertDetail: (alertId) =>
    fetch(`/api/v1/mobile/alerts/${alertId}`).then(r => r.json()),
  
  acknowledgeAlert: (alertId, comment) =>
    fetch(`/api/v1/mobile/alerts/${alertId}/acknowledge`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ comment })
    }).then(r => r.json()),
  
  resolveAlert: (alertId, form) =>
    fetch(`/api/v1/mobile/alerts/${alertId}/resolve`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(form)
    }).then(r => r.json()),
  
  // ... å…¶ä»–å®ç°
};
```

### 10.3 WebSocketå®æ—¶å‘Šè­¦

```typescript
// WebSocketå‘Šè­¦æœåŠ¡
class AlertWebSocketService {
  private ws: WebSocket | null = null;
  
  connect(token: string) {
    const wsUrl = `wss://api.linkc.com/ws/alerts?token=${token}`;
    this.ws = new WebSocket(wsUrl);
    
    this.ws.onmessage = (event) => {
      const message = JSON.parse(event.data);
      this.handleMessage(message);
    };
  }
  
  private handleMessage(message: AlertWebSocketMessage) {
    switch (message.type) {
      case 'new_alert':
        this.handleNewAlert(message.data);
        break;
      case 'alert_updated':
        this.handleAlertUpdated(message.data);
        break;
      case 'alert_resolved':
        this.handleAlertResolved(message.data);
        break;
    }
  }
  
  private handleNewAlert(alert: AlertSummary) {
    const store = useMobileAlertStore.getState();
    
    // æ·»åŠ åˆ°åˆ—è¡¨
    useMobileAlertStore.setState({
      alerts: [alert, ...store.alerts],
      overview: store.overview ? {
        ...store.overview,
        stats: {
          ...store.overview.stats,
          total: store.overview.stats.total + 1,
          [alert.level]: store.overview.stats[alert.level] + 1
        }
      } : null
    });
    
    // æ˜¾ç¤ºæœ¬åœ°é€šçŸ¥
    this.showLocalNotification(alert);
  }
  
  private showLocalNotification(alert: AlertSummary) {
    const config = alertLevelConfig[alert.level];
    
    PushNotification.localNotification({
      channelId: alert.level === 'critical' ? 'critical-alerts' : 'general-alerts',
      title: `${config.label}: ${alert.title}`,
      message: alert.message,
      data: { alertId: alert.id, type: 'alert' },
      smallIcon: 'ic_notification',
      color: config.color,
      vibrate: true,
      playSound: true,
      soundName: alert.level === 'critical' ? 'alert_critical.mp3' : 'alert.mp3'
    });
  }
  
  disconnect() {
    if (this.ws) {
      this.ws.close();
      this.ws = null;
    }
  }
}

interface AlertWebSocketMessage {
  type: 'new_alert' | 'alert_updated' | 'alert_resolved';
  data: AlertSummary;
  timestamp: string;
}
```

---

## 11. æµ‹è¯•è¦æ±‚

### 11.1 å•å…ƒæµ‹è¯•

```typescript
describe('MobileAlertStore', () => {
  beforeEach(() => {
    useMobileAlertStore.setState({
      alerts: [],
      overview: null,
      currentAlert: null
    });
  });
  
  it('should fetch alert overview', async () => {
    const mockOverview: AlertOverview = {
      stats: { total: 15, critical: 2, high: 5, medium: 6, low: 2 },
      response: { avgResponseTime: 12, overdueCount: 1, todayResolved: 8 },
      criticalAlerts: [],
      recentAlerts: [],
      lastUpdated: new Date().toISOString()
    };
    
    jest.spyOn(alertApi, 'getOverview').mockResolvedValue(mockOverview);
    
    await useMobileAlertStore.getState().fetchOverview();
    
    expect(useMobileAlertStore.getState().overview).toEqual(mockOverview);
  });
  
  it('should acknowledge alert and refresh data', async () => {
    jest.spyOn(alertApi, 'acknowledgeAlert').mockResolvedValue(undefined);
    jest.spyOn(alertApi, 'getAlerts').mockResolvedValue({ items: [], total: 0 });
    jest.spyOn(alertApi, 'getOverview').mockResolvedValue({} as any);
    
    await useMobileAlertStore.getState().acknowledgeAlert('alert-123', 'Test comment');
    
    expect(alertApi.acknowledgeAlert).toHaveBeenCalledWith('alert-123', 'Test comment');
    expect(alertApi.getAlerts).toHaveBeenCalled();
    expect(alertApi.getOverview).toHaveBeenCalled();
  });
});

describe('AlertCard', () => {
  it('should display alert level correctly', () => {
    const alert: AlertSummary = {
      id: 'alert-1',
      code: 'ROBOT_STUCK',
      level: 'critical',
      type: 'robot_stuck',
      status: 'pending',
      title: 'R-005æœºå™¨äººå¡ä½',
      message: 'æµ‹è¯•æ¶ˆæ¯',
      source: { type: 'robot', id: 'R-005', name: 'R-005' },
      createdAt: new Date().toISOString(),
      isOverdue: false
    };
    
    const { getByText, getByTestId } = render(
      <AlertCard alert={alert} onPress={jest.fn()} />
    );
    
    expect(getByText('ç´§æ€¥')).toBeTruthy();
    expect(getByText('R-005æœºå™¨äººå¡ä½')).toBeTruthy();
  });
  
  it('should show overdue indicator when alert is overdue', () => {
    const alert: AlertSummary = {
      ...baseAlert,
      isOverdue: true
    };
    
    const { getByText } = render(
      <AlertCard alert={alert} onPress={jest.fn()} />
    );
    
    expect(getByText(/è¶…æ—¶/)).toBeTruthy();
  });
});
```

### 11.2 é›†æˆæµ‹è¯•

```typescript
describe('Mobile Alert E2E', () => {
  beforeAll(async () => {
    await device.launchApp();
  });
  
  it('should show alert overview on dashboard', async () => {
    await expect(element(by.id('alert-overview-card'))).toBeVisible();
    await expect(element(by.id('critical-count'))).toBeVisible();
  });
  
  it('should navigate to alert list', async () => {
    await element(by.id('view-all-alerts')).tap();
    await expect(element(by.id('alert-list-screen'))).toBeVisible();
  });
  
  it('should filter alerts by level', async () => {
    await element(by.id('tab-critical')).tap();
    // éªŒè¯åªæ˜¾ç¤ºç´§æ€¥å‘Šè­¦
    const alerts = await element(by.id('alert-list')).getAttributes();
    // æ£€æŸ¥æ‰€æœ‰æ˜¾ç¤ºçš„å‘Šè­¦éƒ½æ˜¯ç´§æ€¥çº§åˆ«
  });
  
  it('should acknowledge an alert', async () => {
    await element(by.id('alert-item-0')).tap();
    await expect(element(by.id('alert-detail-screen'))).toBeVisible();
    
    await element(by.id('acknowledge-button')).tap();
    await element(by.id('confirm-acknowledge')).tap();
    
    await expect(element(by.text('å·²ç¡®è®¤'))).toBeVisible();
  });
  
  it('should resolve an alert with comment', async () => {
    await element(by.id('resolve-button')).tap();
    await element(by.id('resolution-fixed')).tap();
    await element(by.id('comment-input')).typeText('å·²ä¿®å¤é—®é¢˜');
    await element(by.id('submit-resolve')).tap();
    
    await expect(element(by.text('å·²è§£å†³'))).toBeVisible();
  });
});
```

---

## 12. æ–‡ä»¶ç»“æ„

```
src/mobile/alerts/
â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ AlertHomeScreen.tsx          # å‘Šè­¦é¦–é¡µ
â”‚   â”œâ”€â”€ AlertListScreen.tsx          # å‘Šè­¦åˆ—è¡¨
â”‚   â”œâ”€â”€ AlertDetailScreen.tsx        # å‘Šè­¦è¯¦æƒ…
â”‚   â”œâ”€â”€ HandleAlertScreen.tsx        # å¤„ç†å‘Šè­¦
â”‚   â”œâ”€â”€ AlertStatisticsScreen.tsx    # å‘Šè­¦ç»Ÿè®¡
â”‚   â””â”€â”€ AlertSettingsScreen.tsx      # å‘Šè­¦è®¾ç½®
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”œâ”€â”€ AlertOverviewCard.tsx
â”‚   â”‚   â””â”€â”€ CriticalAlertsCard.tsx
â”‚   â”œâ”€â”€ list/
â”‚   â”‚   â”œâ”€â”€ AlertCard.tsx
â”‚   â”‚   â”œâ”€â”€ AlertTabs.tsx
â”‚   â”‚   â””â”€â”€ AlertFilter.tsx
â”‚   â”œâ”€â”€ detail/
â”‚   â”‚   â”œâ”€â”€ AlertBasicInfoCard.tsx
â”‚   â”‚   â”œâ”€â”€ AlertSourceCard.tsx
â”‚   â”‚   â”œâ”€â”€ SuggestedActionsCard.tsx
â”‚   â”‚   â””â”€â”€ AlertHistoryCard.tsx
â”‚   â”œâ”€â”€ handle/
â”‚   â”‚   â”œâ”€â”€ HandleAlertForm.tsx
â”‚   â”‚   â””â”€â”€ QuickAcknowledgeSheet.tsx
â”‚   â”œâ”€â”€ statistics/
â”‚   â”‚   â”œâ”€â”€ AlertTrendChart.tsx
â”‚   â”‚   â””â”€â”€ AlertDistribution.tsx
â”‚   â””â”€â”€ settings/
â”‚       â”œâ”€â”€ LevelSettings.tsx
â”‚       â””â”€â”€ DoNotDisturbSettings.tsx
â”œâ”€â”€ store/
â”‚   â””â”€â”€ mobileAlertStore.ts
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ alertApi.ts
â”‚   â””â”€â”€ alertWebSocket.ts
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useAlertList.ts
â”‚   â”œâ”€â”€ useAlertDetail.ts
â”‚   â””â”€â”€ useAlertNotification.ts
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ alertFormatters.ts
â”‚   â””â”€â”€ alertConstants.ts
â””â”€â”€ types/
    â””â”€â”€ index.ts

tests/
â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ store.test.ts
â”‚   â””â”€â”€ components/
â”œâ”€â”€ integration/
â”‚   â””â”€â”€ screens.test.ts
â””â”€â”€ e2e/
    â””â”€â”€ alerts.e2e.ts
```

---

## 13. éªŒæ”¶æ ‡å‡†

### 13.1 åŠŸèƒ½éªŒæ”¶

| åŠŸèƒ½ | éªŒæ”¶æ ‡å‡† |
|-----|---------|
| å‘Šè­¦æ¦‚è§ˆ | æ˜¾ç¤ºå‘Šè­¦ç»Ÿè®¡ã€ç´§æ€¥å‘Šè­¦åˆ—è¡¨ |
| å‘Šè­¦åˆ—è¡¨ | åˆ†çº§å±•ç¤ºã€æ”¯æŒç­›é€‰å’Œæœç´¢ |
| å‘Šè­¦è¯¦æƒ… | æ˜¾ç¤ºå®Œæ•´ä¿¡æ¯ã€å…³è”å¯¹è±¡ã€å»ºè®®æ“ä½œ |
| å‘Šè­¦ç¡®è®¤ | æˆåŠŸç¡®è®¤å¹¶è®°å½•å¤„ç†äºº |
| å‘Šè­¦è§£å†³ | é€‰æ‹©è§£å†³æ–¹å¼ã€å¡«å†™è¯´æ˜ã€å¯é™„åŠ å›¾ç‰‡ |
| æ¨é€é€šçŸ¥ | åŠæ—¶æ¥æ”¶ä¸åŒçº§åˆ«å‘Šè­¦æ¨é€ |
| å‘Šè­¦è®¾ç½® | å¯é…ç½®å„çº§åˆ«é€šçŸ¥åå¥½ |

### 13.2 æ€§èƒ½éªŒæ”¶

| æŒ‡æ ‡ | éªŒæ”¶æ ‡å‡† |
|-----|---------|
| åˆ—è¡¨åŠ è½½ | < 1ç§’ |
| æ¨é€å»¶è¿Ÿ | < 3ç§’ï¼ˆä»äº§ç”Ÿåˆ°æ”¶åˆ°ï¼‰ |
| å‘Šè­¦å¤„ç† | < 2ç§’ |

### 13.3 é€šçŸ¥éªŒæ”¶

| åœºæ™¯ | éªŒæ”¶æ ‡å‡† |
|-----|---------|
| ç´§æ€¥å‘Šè­¦ | ç«‹å³æ¨é€ã€æœ‰å£°éŸ³å’ŒæŒ¯åŠ¨ |
| ä¸¥é‡å‘Šè­¦ | ç«‹å³æ¨é€ã€æœ‰å£°éŸ³ |
| å…æ‰“æ‰°æ—¶æ®µ | ä»…ç´§æ€¥å‘Šè­¦å¯æ¨é€ |
| åº”ç”¨åœ¨å‰å° | åº”ç”¨å†…æ˜¾ç¤ºé€šçŸ¥æ¨ªå¹… |

---

*æ–‡æ¡£ç‰ˆæœ¬: 1.0*  
*åˆ›å»ºæ—¥æœŸ: 2026å¹´1æœˆ*  
*æœ€åæ›´æ–°: 2026å¹´1æœˆ*
